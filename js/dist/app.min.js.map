{"version":3,"sources":["app.js"],"names":["carrito","document","querySelector","contenedorCarrito","vaciarCarritoBtn","listaCursos","articulosCarrito","cargarEventListener","agregarCurso","addEventListener","parse","localStorage","getItem","limpiarHTML","e","preventDefault","target","classList","contains","leerDatosCurso","parentElement","cursoSeleccionado","cursiId","getAttribute","filter","curso","id","carritoHTML","infoCurso","imagen","src","titulo","textContent","precio","some","_toConsumableArray","map","cantidad","concat","console","log","forEach","row","createElement","appendChild","sincronizarStorage","setItem","JSON","stringify","firstChild","removeChild"],"mappings":"8dACA,IAAMA,QAAUC,SAASC,cAAc,YACjCC,kBAAoBF,SAASC,cAAc,wBAC3CE,iBAAmBH,SAASC,cAAc,mBAC1CG,YAAcJ,SAASC,cAAc,iBACvCI,iBAAmB,GAIvB,SAASC,sBARHP,YAAUC,iBAASC,QAAcM,cAGjCH,QAAAA,iBAAuBH,QAAAA,eAazBD,SAASQ,iBAAiB,mBAAoB,WARlDH,iBAASC,KAAsBG,MAAAC,aAAAC,QAAA,aAAA,GAE3BP,gBAMAJ,iBAASQ,iBAAiB,QAA1B,WACIH,iBAAuB,GAK3BO,gBAIIA,SAAAA,aAAeC,GAHnBA,EAAAC,iBAWID,EAAEE,OAAOC,UAAUC,SAAS,oBAHpCC,eAIkCL,EAAEE,OAAOI,cAAcA,eACjDD,SAAAA,cAAeE,GAClB,GAAAP,EAAAE,OAAAC,UAAAC,SAAA,gBAAA,CAGL,IAAAI,EAAAR,EAAAE,OAAAO,aAAA,WACAjB,iBAA0BA,iBAAAkB,OAAA,SAAAC,GAAA,OAAAA,EAAAC,KAAAJ,IAEZA,eAKNK,SAAAA,eAAeF,GASnB,IAAMG,EAAY,CAJtBC,OAASV,EAAAA,cAAsB,OAAAW,IAC3BC,OAAAN,EAAAvB,cAAA,MAAA8B,YAEAC,OAAAR,EAAAvB,cAAA,gBAAA8B,YACMJ,GAAAA,EAAY1B,cAAA,KAAAqB,aAAA,WACdM,SAAc3B,GAIJI,iBAAA4B,KAAA,SAAAT,GAAA,OAAAA,EAAAC,KAAAE,EAAAF,KASFD,iBAAAU,mBALG7B,iBAAuB8B,IAAA,SAAAX,GAASA,OAAKA,EAALC,KAAYE,EAAhBF,IAA3CD,EAAAY,WAMmBZ,KAEPnB,iBAAc,GAAAgC,OAAAH,mBAAA7B,kBAAA,CAAAsB,IALPW,QAAfC,IAAAlC,kBAQAA,cAIH,SAAAqB,cACAY,cAILjC,iBAAAmC,QAAA,SAAAhB,GAAA,IAMgBI,EAAyCJ,EAAzCI,OAAQE,EAAiCN,EAAjCM,OAAQE,EAAyBR,EAAzBQ,OAAQI,EAAiBZ,EAAjBY,SAAUX,EAAOD,EAAPC,GACpCgB,EAAMzC,SAAS0C,cAAc,MAN1CD,EAASf,UAAT,iDAAAW,OAGGT,EAHH,uDAAAS,OAImBP,EAJnB,2BAAAO,OAKwDb,EALxD,2BAAAa,OAKwDb,EALxD,uFAAAa,OAIsCZ,EAJtC,2CAoBOvB,kBAAkByC,YAAlBF,KAKPG,qBAGGlC,SAAAA,qBAGJA,aAAAmC,QAAA,UAAAC,KAAAC,UAAA1C,mBAEI,SAAAO,cAMC,KAAAV,kBAAA8C,YACJ9C,kBAAA+C,YAAA/C,kBAAA8C,YAxHD1C","file":"app.min.js","sourcesContent":["//Variables\r\nconst carrito = document.querySelector('#carrito');\r\nconst contenedorCarrito = document.querySelector('#lista-carrito tbody');\r\nconst vaciarCarritoBtn = document.querySelector('#vaciar-carrito');\r\nconst listaCursos = document.querySelector('#lista-cursos');\r\nlet articulosCarrito = [];\r\n\r\n\r\ncargarEventListener();\r\nfunction cargarEventListener() {\r\n    //Cuando agregas un curso presionando \"Agregar al carrito\"\r\n    listaCursos.addEventListener('click', agregarCurso);\r\n\r\n    //Elimina cursos del carrito\r\n    carrito.addEventListener('click', eliminarCurso);\r\n\r\n    //Muestra los cursos de localstorage\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n        articulosCarrito = JSON.parse(localStorage.getItem('carrito')) || [];\r\n\r\n        carritoHTML();\r\n    })\r\n\r\n    // Vaciar el carrito\r\n    vaciarCarritoBtn.addEventListener('click', () => {\r\n        articulosCarrito = []; //Reseteamos el carrito\r\n\r\n        limpiarHTML(); //Elimininamos todo el HTML\r\n    });\r\n}\r\n\r\n//Funciones\r\nfunction agregarCurso(e) {\r\n    e.preventDefault();\r\n\r\n    if (e.target.classList.contains('agregar-carrito')) {\r\n        const cursoSeleccionado = e.target.parentElement.parentElement;\r\n        leerDatosCurso(cursoSeleccionado);\r\n    }\r\n}\r\n\r\n//Elimina un curso del carrito\r\nfunction eliminarCurso(e) {\r\n    if (e.target.classList.contains('borrar-curso')) {\r\n        const cursiId = e.target.getAttribute('data-id');\r\n\r\n        //Elimina del arreglo articulosCarrito por el dataId\r\n        articulosCarrito = articulosCarrito.filter( curso => curso.id !== cursiId);\r\n        \r\n        carritoHTML(); //Iterar sobre el carrito y mostrar su HTML\r\n    }\r\n}\r\n\r\n// Lee el conenido del HTML el que le dimos click y extrae la informaciÃ³n del curso\r\nfunction leerDatosCurso(curso) {\r\n    //console.log(curso);\r\n\r\n    //Crear un objeto con el contenido del curso\r\n    const infoCurso = {\r\n        imagen: curso.querySelector('img').src,\r\n        titulo: curso.querySelector('h4').textContent,\r\n        precio: curso.querySelector('.precio span').textContent,\r\n        id: curso.querySelector('a').getAttribute('data-id'),\r\n        cantidad: 1\r\n    }\r\n\r\n    //Revisa si un elemento ya existe en el carrito\r\n    const existe = articulosCarrito.some( curso => curso.id ===infoCurso.id);\r\n    if (existe) {\r\n        //Actualizar la cantidad\r\n        const cursos = articulosCarrito.map( curso => {\r\n            if (curso.id ===infoCurso.id) {\r\n                curso.cantidad++;\r\n                return curso; //Retorna el onjeto actualizado\r\n            } else {\r\n                return curso; // Retorna los objetos que no son los duplicados\r\n            }\r\n        });\r\n        articulosCarrito = [...cursos];\r\n    }else {\r\n        //Agregar elementos al arreglo de carrito\r\n         articulosCarrito = [...articulosCarrito, infoCurso];\r\n    }\r\n     console.log(articulosCarrito);\r\n     carritoHTML();\r\n}\r\n\r\n// Muestra el carrito de compras en el html\r\n function carritoHTML() {\r\n    //Limpiar el HTML\r\n    limpiarHTML();\r\n    //Recorre el carrito y genera el HTML\r\n    articulosCarrito.forEach( curso => {\r\n        const { imagen, titulo, precio, cantidad, id } = curso;\r\n        const row = document.createElement('tr');\r\n        row.innerHTML = `\r\n            <td>\r\n                <img src=\"${imagen}\" width=\"100\">\r\n            </td>\r\n            <td>${titulo}</td>\r\n            <td>${precio}</td>\r\n            <td>${cantidad}</td>\r\n            <td>\r\n                <a href=\"#\" class=\"borrar-curso\" data-id=\"${id}\" > X </a>\r\n            </td>\r\n        `;\r\n\r\n        //Agregar el HTML del carrito en el tbody\r\n        contenedorCarrito.appendChild(row);\r\n    });\r\n\r\n    //Agregar el carrito de compras al Storage\r\n    sincronizarStorage();\r\n}\r\n\r\nfunction  sincronizarStorage() {\r\n    localStorage.setItem('carrito', JSON.stringify(articulosCarrito));\r\n}\r\n\r\n//Elimina el los cursos de tbody\r\nfunction limpiarHTML(){\r\n    //Forma lenta\r\n    //contenedorCarrito.innerHTML = '';\r\n\r\n    //Otra forma de eliminar cursos de tbody\r\n    while (contenedorCarrito.firstChild){\r\n        contenedorCarrito.removeChild(contenedorCarrito.firstChild);\r\n    }\r\n}\r\n\r\n"]}