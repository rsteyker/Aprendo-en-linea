{"version":3,"sources":["app.js"],"names":["carrito","document","querySelector","contenedorCarrito","vaciarCarritoBtn","listaCursos","articulosCarrito","cargarEventListener","addEventListener","agregarCurso","eliminarCurso","JSON","parse","localStorage","getItem","carritoHTML","limpiarHTML","e","preventDefault","target","classList","contains","cursoSeleccionado","parentElement","leerDatosCurso","cursiId","getAttribute","filter","curso","id","infoCurso","imagen","src","titulo","textContent","precio","cantidad","existe","some","cursos","map","console","log","forEach","row","createElement","innerHTML","appendChild","sincronizarStorage","setItem","stringify","firstChild","removeChild"],"mappings":"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","sourcesContent":["//Variables\r\nconst carrito = document.querySelector('#carrito');\r\nconst contenedorCarrito = document.querySelector('#lista-carrito tbody');\r\nconst vaciarCarritoBtn = document.querySelector('#vaciar-carrito');\r\nconst listaCursos = document.querySelector('#lista-cursos');\r\nlet articulosCarrito = [];\r\n\r\n\r\ncargarEventListener();\r\nfunction cargarEventListener() {\r\n    //Cuando agregas un curso presionando \"Agregar al carrito\"\r\n    listaCursos.addEventListener('click', agregarCurso);\r\n\r\n    //Elimina cursos del carrito\r\n    carrito.addEventListener('click', eliminarCurso);\r\n\r\n    //Muestra los cursos de localstorage\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n        articulosCarrito = JSON.parse(localStorage.getItem('carrito')) || [];\r\n\r\n        carritoHTML();\r\n    })\r\n\r\n    // Vaciar el carrito\r\n    vaciarCarritoBtn.addEventListener('click', () => {\r\n        articulosCarrito = []; //Reseteamos el carrito\r\n\r\n        limpiarHTML(); //Elimininamos todo el HTML\r\n    });\r\n}\r\n\r\n//Funciones\r\nfunction agregarCurso(e) {\r\n    e.preventDefault();\r\n\r\n    if (e.target.classList.contains('agregar-carrito')) {\r\n        const cursoSeleccionado = e.target.parentElement.parentElement;\r\n        leerDatosCurso(cursoSeleccionado);\r\n    }\r\n}\r\n\r\n//Elimina un curso del carrito\r\nfunction eliminarCurso(e) {\r\n    if (e.target.classList.contains('borrar-curso')) {\r\n        const cursiId = e.target.getAttribute('data-id');\r\n\r\n        //Elimina del arreglo articulosCarrito por el dataId\r\n        articulosCarrito = articulosCarrito.filter( curso => curso.id !== cursiId);\r\n        \r\n        carritoHTML(); //Iterar sobre el carrito y mostrar su HTML\r\n    }\r\n}\r\n\r\n// Lee el conenido del HTML el que le dimos click y extrae la informaciÃ³n del curso\r\nfunction leerDatosCurso(curso) {\r\n    //console.log(curso);\r\n\r\n    //Crear un objeto con el contenido del curso\r\n    const infoCurso = {\r\n        imagen: curso.querySelector('img').src,\r\n        titulo: curso.querySelector('h4').textContent,\r\n        precio: curso.querySelector('.precio span').textContent,\r\n        id: curso.querySelector('a').getAttribute('data-id'),\r\n        cantidad: 1\r\n    }\r\n\r\n    //Revisa si un elemento ya existe en el carrito\r\n    const existe = articulosCarrito.some( curso => curso.id ===infoCurso.id);\r\n    if (existe) {\r\n        //Actualizar la cantidad\r\n        const cursos = articulosCarrito.map( curso => {\r\n            if (curso.id ===infoCurso.id) {\r\n                curso.cantidad++;\r\n                return curso; //Retorna el onjeto actualizado\r\n            } else {\r\n                return curso; // Retorna los objetos que no son los duplicados\r\n            }\r\n        });\r\n        articulosCarrito = [...cursos];\r\n    }else {\r\n        //Agregar elementos al arreglo de carrito\r\n         articulosCarrito = [...articulosCarrito, infoCurso];\r\n    }\r\n     console.log(articulosCarrito);\r\n     carritoHTML();\r\n}\r\n\r\n// Muestra el carrito de compras en el html\r\n function carritoHTML() {\r\n    //Limpiar el HTML\r\n    limpiarHTML();\r\n    //Recorre el carrito y genera el HTML\r\n    articulosCarrito.forEach( curso => {\r\n        const { imagen, titulo, precio, cantidad, id } = curso;\r\n        const row = document.createElement('tr');\r\n        row.innerHTML = `\r\n            <td>\r\n                <img src=\"${imagen}\" width=\"100\">\r\n            </td>\r\n            <td>${titulo}</td>\r\n            <td>${precio}</td>\r\n            <td>${cantidad}</td>\r\n            <td>\r\n                <a href=\"#\" class=\"borrar-curso\" data-id=\"${id}\" > X </a>\r\n            </td>\r\n        `;\r\n\r\n        //Agregar el HTML del carrito en el tbody\r\n        contenedorCarrito.appendChild(row);\r\n    });\r\n\r\n    //Agregar el carrito de compras al Storage\r\n    sincronizarStorage();\r\n}\r\n\r\nfunction  sincronizarStorage() {\r\n    localStorage.setItem('carrito', JSON.stringify(articulosCarrito));\r\n}\r\n\r\n//Elimina el los cursos de tbody\r\nfunction limpiarHTML(){\r\n    //Forma lenta\r\n    //contenedorCarrito.innerHTML = '';\r\n\r\n    //Otra forma de eliminar cursos de tbody\r\n    while (contenedorCarrito.firstChild){\r\n        contenedorCarrito.removeChild(contenedorCarrito.firstChild);\r\n    }\r\n}\r\n\r\n"],"file":"app.dev.js"}